# Example environment configuration for ble-mcp-test
# Copy this file to .env.local and customize for your BLE device

# Server Configuration
BLE_MCP_WS_HOST=0.0.0.0
BLE_MCP_WS_PORT=8080
BLE_MCP_HTTP_PORT=8081
BLE_MCP_HTTP_TOKEN=
BLE_MCP_STDIO_DISABLED=false

# Logging Configuration
BLE_MCP_LOG_LEVEL=info
BLE_MCP_LOG_BUFFER_SIZE=10000

# Connection Management
BLE_MCP_CLIENT_IDLE_TIMEOUT=45000

# BLE Device Configuration (REQUIRED - no universal defaults)
# Example for CS108 RFID Reader:
BLE_MCP_DEVICE_NAME=CS108
BLE_MCP_SERVICE_UUID=9800
BLE_MCP_WRITE_UUID=9900
BLE_MCP_NOTIFY_UUID=9901

# Example for nRF52 or other Nordic devices:
# BLE_MCP_DEVICE_NAME=nRF52
# BLE_MCP_SERVICE_UUID=6e400001-b5a3-f393-e0a9-e50e24dcca9e
# BLE_MCP_WRITE_UUID=6e400002-b5a3-f393-e0a9-e50e24dcca9e
# BLE_MCP_NOTIFY_UUID=6e400003-b5a3-f393-e0a9-e50e24dcca9e

# For Linux systems using MAC address instead of name:
# BLE_MCP_DEVICE_MAC=6c:79:b8:26:03:a7

# BLE Timing Configuration (milliseconds)
BLE_MCP_RECOVERY_DELAY=1000
BLE_MCP_SCAN_TIMEOUT=15000
BLE_MCP_CONNECTION_TIMEOUT=15000

# Mock Client Configuration (for test reliability)
BLE_MCP_MOCK_RETRY_DELAY=1200      # Initial retry delay (ms)
BLE_MCP_MOCK_MAX_RETRIES=20        # Maximum connection retry attempts
BLE_MCP_MOCK_CLEANUP_DELAY=1100    # Post-disconnect delay (ms)
BLE_MCP_MOCK_BACKOFF=1.3           # Retry backoff multiplier
BLE_MCP_MOCK_LOG_RETRIES=true      # Log retry attempts

# Logging Configuration
BLE_MCP_LOG_TIMESTAMPS=true         # Include timestamps in logs (HH:MM:SS.mmm)

# Session Timeout Configuration
# Production defaults: GRACE_PERIOD=60s, IDLE_TIMEOUT=300s (from LINUX_STABILITY_REPORT.md)
# BLE_SESSION_GRACE_PERIOD_SEC=60    # Grace period after WebSocket disconnect (seconds)
# BLE_SESSION_IDLE_TIMEOUT_SEC=300   # Idle timeout for inactive sessions (seconds)
# 
# Testing configuration (shortened timeouts for faster test execution):
BLE_SESSION_GRACE_PERIOD_SEC=5       # Shortened for testing - grace period after WebSocket disconnect
BLE_SESSION_IDLE_TIMEOUT_SEC=10      # Shortened for testing - idle timeout for inactive sessions
#
# NOTE: Use production values (60s/300s) in production environments for stability
# Use testing values (5s/10s) only during development and testing

# Test Configuration
BLE_MCP_TEST_DEVICE=MockDevice
BLE_MCP_TEST_WS_URL=ws://localhost:8080
BLE_MCP_TEST_SESSION_ID=              # Override session ID for deterministic testing (maps to BLE_TEST_SESSION_ID env var)